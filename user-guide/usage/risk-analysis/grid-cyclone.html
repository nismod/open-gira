<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Electricity grid / tropical cyclone</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../../favicon.svg">
        <link rel="shortcut icon" href="../../../favicon.png">
        <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
        <link rel="stylesheet" href="../../../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">User Guide</li><li class="chapter-item expanded "><a href="../../../index.html"><strong aria-hidden="true">1.</strong> Welcome</a></li><li class="chapter-item expanded "><a href="../../../user-guide/installation.html"><strong aria-hidden="true">2.</strong> Installation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../user-guide/installation/linux-mac.html"><strong aria-hidden="true">2.1.</strong> Linux / Mac</a></li><li class="chapter-item expanded "><a href="../../../user-guide/installation/windows.html"><strong aria-hidden="true">2.2.</strong> Windows</a></li><li class="chapter-item expanded "><a href="../../../user-guide/installation/docker.html"><strong aria-hidden="true">2.3.</strong> Docker</a></li></ol></li><li class="chapter-item expanded "><a href="../../../user-guide/usage.html"><strong aria-hidden="true">3.</strong> Usage</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../user-guide/usage/network-creation.html"><strong aria-hidden="true">3.1.</strong> Network creation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../user-guide/usage/network-creation/road.html"><strong aria-hidden="true">3.1.1.</strong> Road</a></li><li class="chapter-item expanded "><a href="../../../user-guide/usage/network-creation/rail.html"><strong aria-hidden="true">3.1.2.</strong> Rail</a></li><li class="chapter-item expanded "><a href="../../../user-guide/usage/network-creation/grid.html"><strong aria-hidden="true">3.1.3.</strong> Electricity grid</a></li></ol></li><li class="chapter-item expanded "><a href="../../../user-guide/usage/risk-analysis.html"><strong aria-hidden="true">3.2.</strong> Risk analysis</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../user-guide/usage/risk-analysis/transport-flooding.html"><strong aria-hidden="true">3.2.1.</strong> Transport / flooding</a></li><li class="chapter-item expanded "><a href="../../../user-guide/usage/risk-analysis/grid-cyclone.html" class="active"><strong aria-hidden="true">3.2.2.</strong> Electricity grid / tropical cyclone</a></li></ol></li><li class="chapter-item expanded "><a href="../../../user-guide/usage/utilities.html"><strong aria-hidden="true">3.3.</strong> Utilities</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="electricity-grids---tropical-cyclones"><a class="header" href="#electricity-grids---tropical-cyclones">Electricity grids - tropical cyclones</a></h1>
<p>This analysis intersects electricity grids with tropical cyclone wind speed
risk. Network creation is described previously. The hazards are event-based (as
opposed to return period map based).</p>
<h2 id="description"><a class="header" href="#description">Description</a></h2>
<ol>
<li>Download storm track data.</li>
<li>Process storm track data into common geoparquet format, ensure meterological variables are consistent.</li>
<li>Define a wind speed grid, with an extent equal to the network bounding box, plus a buffer.</li>
<li>Given a storm track, estimate the resulting wind speed field as a function of time using a modified Holland model.</li>
<li>Downscale the wind speeds from free-atmosphere to surface level, using a power law. The downscaling exponent is a function of the surface roughnesses, derived from a land surface categorisation.</li>
<li>Take the maximum wind speed across time for each pixel in the wind grid.</li>
<li>For a certain defined threshold or set of thresholds, we then fail electricity grid edges (transmission and distribution lines) that experience
wind in excess of the threshold.</li>
<li>Allocate power across the newly degraded grid and see how it differs to the nominal allocation.</li>
<li>Report on change in power supply and numbers of people affected.</li>
</ol>
<h2 id="configuration"><a class="header" href="#configuration">Configuration</a></h2>
<ul>
<li>Review and amend <code>config/config.yaml</code>:
<ul>
<li><code>storm_sets</code> should contain a storm set name, pointing to a JSON file.
This JSON file should contain an empty list to process all storms for
this storm set, or a list of string storm IDs if only a subset is
required.</li>
<li>Specify <code>transmission_windspeed_failure</code> as a list of wind speeds in
meters per second at which to fail edges.</li>
</ul>
</li>
</ul>
<p>See comments in the <code>config/config.yaml</code> file for other less crucial
configuration options.</p>
<h2 id="outputs"><a class="header" href="#outputs">Outputs</a></h2>
<p>Below you will find example commands necessary to create outputs for the case of
<strong>PRI</strong> (Puerto Rico) and the storm <strong>2017242N16333</strong> (Irma, 2017) from the
<strong>IBTrACS</strong> historic cyclone dataset. Later steps will trigger earlier,
dependent steps if necessary.</p>
<h3 id="networks-at-risk"><a class="header" href="#networks-at-risk">Networks at risk</a></h3>
<ul>
<li>Identify which storms are likely to impact which countries
<ul>
<li><code>snakemake --cores 1 -- results/power/by_storm_set/IBTrACS/storms_by_country_impacted.json</code></li>
</ul>
</li>
</ul>
<h3 id="maximum-wind-speed-fields"><a class="header" href="#maximum-wind-speed-fields">Maximum wind speed fields</a></h3>
<ul>
<li>Download storm track data (historic or synthetic)</li>
<li>Preprocess data into a (mostly) common event-set format.
<ul>
<li><code>snakemake --cores 1 -- results/storm_tracks/IBTrACS/tracks.geoparquet</code></li>
</ul>
</li>
<li>Download land surface categorical data</li>
<li>Estimate surface roughness for the grid region
<ul>
<li><code>snakemake --cores 1 -- results/power/by_country/PRI/storms/surface_roughness.tiff</code></li>
</ul>
</li>
<li>Any storm tracks within some proximity of the grid in question are processed into maximum wind speed footprints for the electricity grid region. This is by means of a modified Holland wind field model. Downscale the winds to the surface by a power law, using the surface roughness data.
<ul>
<li><code>snakemake --cores 1 -- results/power/by_country/PRI/storms/IBTrACS/max_wind_field.nc</code></li>
</ul>
</li>
</ul>
<h2 id="network-exposure"><a class="header" href="#network-exposure">Network exposure</a></h2>
<ul>
<li>Rasterise the electricity grid (split line segments such that no segment extends beyond a wind cell boundary).
<ul>
<li><code>snakemake --cores 1 -- results/power/by_country/PRI/exposure/edges_split.geoparquet</code></li>
</ul>
</li>
<li>For a given storm and country, remove edges from the grid which exceed a given wind speed damage threshold. Reallocate power from powerplants to targets, by GDP, on the degraded network. Store the ratio between the original power supplied and the degraded power supplied to each target.
<ul>
<li><code>snakemake --cores 1 -- results/power/by_country/PRI/exposure/IBTrACS/2017242N16333.nc</code></li>
</ul>
</li>
<li>Perform the above calculations for a single storm in a cyclone dataset and all the countries its track intersects.
<ul>
<li><code>snakemake --cores 1 -- results/power/by_storm_set/IBTrACS/by_storm/2017242N16333/exposure_by_target.nc</code></li>
</ul>
</li>
<li>Perform the above calculations for an entire cyclone dataset and all the countries its tracks intersect.
<ul>
<li><code>snakemake --cores 1 -- results/power/by_storm_set/IBTrACS/exposure.txt</code></li>
</ul>
</li>
</ul>
<h2 id="further-analysis"><a class="header" href="#further-analysis">Further analysis</a></h2>
<p>TODO: Add additional rules to facilitate comparison across countries and cyclone datasets.</p>
<p>TODO: Document these additional rules.</p>
<ul>
<li>Map how electricity supply is impacted by a given storm for a variety of different damage thresholds.
<ul>
<li><code>snakemake --cores 1 -- results/power/by_storm_set/IBTrACS/by_storm/2017242N16333/outage_map/outage_map_by_threshold.gif</code></li>
</ul>
</li>
<li>Map the maximum wind speed experienced across the area impacted by a storm.
<ul>
<li><code>snakemake --cores 1 -- results/power/by_storm_set/IBTrACS/by_storm/2017242N16333/wind_field.png</code></li>
</ul>
</li>
</ul>
<p>There also exist other plotting and mapping steps to visualise intermediate and final outputs. Refer to <code>workflow/rules/analysis</code> for a description of these.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../../user-guide/usage/risk-analysis/transport-flooding.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../../../user-guide/usage/utilities.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../../user-guide/usage/risk-analysis/transport-flooding.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../../../user-guide/usage/utilities.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
